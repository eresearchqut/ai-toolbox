"use strict";(self.webpackChunkai_toolbox=self.webpackChunkai_toolbox||[]).push([[357],{"./src/components/tool/guide/HuggingFacePipeline/HuggingFacePipeline.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{AutomaticSpeechRecognition:()=>AutomaticSpeechRecognition,ImageClassification:()=>ImageClassification,ObjectDetection:()=>ObjectDetection,TextGeneration:()=>TextGeneration,TextGenerationPresets:()=>TextGenerationPresets,TextToImage:()=>TextToImage,TextToSpeech:()=>TextToSpeech,__namedExportsOrder:()=>__namedExportsOrder,default:()=>HuggingFacePipeline_stories});var chunk_XEKRR764=__webpack_require__("./node_modules/@chakra-ui/icons/dist/chunk-XEKRR764.mjs"),chunk_7OLJDQMT=__webpack_require__("./node_modules/@chakra-ui/layout/dist/chunk-7OLJDQMT.mjs"),chunk_QCAXGLVH=__webpack_require__("./node_modules/@chakra-ui/accordion/dist/chunk-QCAXGLVH.mjs"),chunk_YI3ICT2T=__webpack_require__("./node_modules/@chakra-ui/accordion/dist/chunk-YI3ICT2T.mjs"),chunk_PULVB27S=__webpack_require__("./node_modules/@chakra-ui/layout/dist/chunk-PULVB27S.mjs"),chunk_2OOHT3W5=__webpack_require__("./node_modules/@chakra-ui/layout/dist/chunk-2OOHT3W5.mjs"),chunk_UVUR7MCU=__webpack_require__("./node_modules/@chakra-ui/button/dist/chunk-UVUR7MCU.mjs"),chunk_CRBMUVJA=__webpack_require__("./node_modules/@chakra-ui/accordion/dist/chunk-CRBMUVJA.mjs"),chunk_JQ2DNXQ3=__webpack_require__("./node_modules/@chakra-ui/accordion/dist/chunk-JQ2DNXQ3.mjs"),chunk_5VAIMVHT=__webpack_require__("./node_modules/@chakra-ui/accordion/dist/chunk-5VAIMVHT.mjs"),react=__webpack_require__("./node_modules/react/index.js");const hf_logo_namespaceObject=__webpack_require__.p+"static/media/hf-logo.6fd51d26.png";var ChoiceScreen=__webpack_require__("./src/components/layout/ChoiceScreen.js"),Config=__webpack_require__("./src/components/tool/guide/Config.js"),Guide=__webpack_require__("./src/components/tool/guide/Guide.js"),HuggingFaceInstructions=__webpack_require__("./src/components/tool/guide/HuggingFacePipeline/HuggingFaceInstructions.js"),chunk_BTVB6U66=__webpack_require__("./node_modules/@chakra-ui/icons/dist/chunk-BTVB6U66.mjs"),chunk_6UX5C75U=__webpack_require__("./node_modules/@chakra-ui/icons/dist/chunk-6UX5C75U.mjs"),chunk_FKYN3ZGE=__webpack_require__("./node_modules/@chakra-ui/input/dist/chunk-FKYN3ZGE.mjs"),chunk_2ZHRCML3=__webpack_require__("./node_modules/@chakra-ui/input/dist/chunk-2ZHRCML3.mjs"),chunk_BZDCPGYF=__webpack_require__("./node_modules/@chakra-ui/progress/dist/chunk-BZDCPGYF.mjs"),chunk_OA6OURRG=__webpack_require__("./node_modules/@chakra-ui/table/dist/chunk-OA6OURRG.mjs"),chunk_GEJVU65N=__webpack_require__("./node_modules/@chakra-ui/table/dist/chunk-GEJVU65N.mjs"),chunk_J4QO5GAJ=__webpack_require__("./node_modules/@chakra-ui/table/dist/chunk-J4QO5GAJ.mjs"),chunk_GIQFRSD6=__webpack_require__("./node_modules/@chakra-ui/table/dist/chunk-GIQFRSD6.mjs"),chunk_MGVPL3OH=__webpack_require__("./node_modules/@chakra-ui/table/dist/chunk-MGVPL3OH.mjs"),chunk_T2WCTPDH=__webpack_require__("./node_modules/@chakra-ui/table/dist/chunk-T2WCTPDH.mjs"),chunk_K7XRJ7NL=__webpack_require__("./node_modules/@chakra-ui/layout/dist/chunk-K7XRJ7NL.mjs"),chunk_KICXRNWJ=__webpack_require__("./node_modules/@chakra-ui/tooltip/dist/chunk-KICXRNWJ.mjs"),chunk_KRPLQIP4=__webpack_require__("./node_modules/@chakra-ui/layout/dist/chunk-KRPLQIP4.mjs"),chunk_RPO2WXNL=__webpack_require__("./node_modules/@chakra-ui/tag/dist/chunk-RPO2WXNL.mjs"),chunk_3KCBMPN5=__webpack_require__("./node_modules/@chakra-ui/alert/dist/chunk-3KCBMPN5.mjs"),index_es=__webpack_require__("./node_modules/@choc-ui/chakra-autocomplete/dist/index.es.js");function useData(_ref){let{url,params={},condition=!0,cache="force-cache",debounceTime=0}=_ref;const[data,setData]=(0,react.useState)(null),[error,setError]=(0,react.useState)(null),[loading,setLoading]=(0,react.useState)(condition),baseUrl=new URL(url);baseUrl.search=new URLSearchParams(params).toString();const fetchUrl=baseUrl.toString();return(0,react.useEffect)((()=>{const abortController=new AbortController,{signal}=abortController;if(!condition)return abortController.abort(),void setLoading(!1);setLoading(!0);const debounceFetch=setTimeout((()=>fetch(fetchUrl,{signal,cache}).then((res=>res.json())).then((result=>{signal.aborted||(setData(result),setError(null),setLoading(!1))})).catch((err=>{signal.aborted||(setError(err),setLoading(!1))}))),debounceTime);return()=>{clearTimeout(debounceFetch),abortController.abort()}}),[fetchUrl,condition]),{data,error,loading}}var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function ModelAutoComplete(_ref){let{model,onModelChange,models}=_ref;return(0,jsx_runtime.jsxs)(index_es.Qc,{openOnFocus:!0,creatable:!0,onChange:onModelChange,suggestWhenEmpty:!0,children:[(0,jsx_runtime.jsxs)(chunk_FKYN3ZGE.B,{children:[(0,jsx_runtime.jsx)(index_es.Vp,{placeholder:"Search for a model",variant:"filled",value:model,onChange:e=>onModelChange(e.target.value)}),model&&(0,jsx_runtime.jsx)(chunk_2ZHRCML3.x,{children:(0,jsx_runtime.jsx)(chunk_UVUR7MCU.z,{size:"xs",onClick:()=>onModelChange(""),children:(0,jsx_runtime.jsx)(chunk_BTVB6U66.T,{})})})]}),(0,jsx_runtime.jsxs)(index_es.Jm,{children:[models.map((model=>(0,jsx_runtime.jsx)(index_es.Gb,{value:model.id,children:model.id},model.id))),(0,jsx_runtime.jsx)(index_es.JU,{children:_ref2=>{let{value}=_ref2;return(0,jsx_runtime.jsxs)("span",{children:["Use custom '",value,"' model"]})}})]})]})}ModelAutoComplete.displayName="ModelAutoComplete";const formatNumber=n=>Intl.NumberFormat(navigator.language,{notation:"compact",maximumFractionDigits:1}).format(n),MODEL_FORMATS={F32:["Single Precision Floating Point",32],F16:["Half Precision Floating Point",16],BF16:["Brain Floating Point",16],I8:["Integer",8],I4:["Integer",4]},formatModelParameters=modelParameters=>Object.entries(modelParameters).map((_ref3=>{let[precision,value]=_ref3;const[name,bits]=MODEL_FORMATS[precision];return`${formatNumber(value)} ${name} (${bits} bits)`})).join(", "),formatModelMinSize=modelParameters=>`${formatNumber(Object.entries(modelParameters).reduce(((acc,_ref4)=>{let[precision,value]=_ref4;const[,bits]=MODEL_FORMATS[precision];return acc+value*bits}),0)/8589934592)} GB`;function ModelDetails(_ref5){let{model,knownModelData,modelData,modelLoading}=_ref5;if(modelLoading)return(0,jsx_runtime.jsx)(chunk_BZDCPGYF.E,{colorScheme:"yellow",isIndeterminate:!0});if(model&&(knownModelData?.id||modelData?.id)){const tags=modelData?.tags??knownModelData?.tags;return(0,jsx_runtime.jsx)(chunk_OA6OURRG.x,{children:(0,jsx_runtime.jsx)(chunk_GEJVU65N.i,{variant:"simple",size:"sm",children:(0,jsx_runtime.jsxs)(chunk_J4QO5GAJ.p,{children:[(0,jsx_runtime.jsxs)(chunk_GIQFRSD6.Tr,{children:[(0,jsx_runtime.jsx)(chunk_MGVPL3OH.Th,{children:"Link"}),(0,jsx_runtime.jsx)(chunk_T2WCTPDH.Td,{children:(0,jsx_runtime.jsxs)(chunk_K7XRJ7NL.r,{href:`https://hf.co/${model}`,isExternal:!0,children:[`hf.co/${model}`,(0,jsx_runtime.jsx)(chunk_6UX5C75U.h,{marginLeft:1})]})})]}),modelData?.lastModified&&(0,jsx_runtime.jsxs)(chunk_GIQFRSD6.Tr,{children:[(0,jsx_runtime.jsx)(chunk_MGVPL3OH.Th,{children:"Last Modified"}),(0,jsx_runtime.jsx)(chunk_T2WCTPDH.Td,{children:new Date(modelData.lastModified).toLocaleString()})]}),(0,jsx_runtime.jsxs)(chunk_GIQFRSD6.Tr,{children:[(0,jsx_runtime.jsx)(chunk_MGVPL3OH.Th,{children:"Likes"}),(0,jsx_runtime.jsx)(chunk_T2WCTPDH.Td,{children:formatNumber(modelData?.likes??knownModelData?.likes)})]}),(0,jsx_runtime.jsxs)(chunk_GIQFRSD6.Tr,{children:[(0,jsx_runtime.jsx)(chunk_MGVPL3OH.Th,{children:"Downloads"}),(0,jsx_runtime.jsx)(chunk_T2WCTPDH.Td,{children:formatNumber(modelData?.downloads??knownModelData?.downloads)})]}),modelData?.cardData?.license&&(0,jsx_runtime.jsxs)(chunk_GIQFRSD6.Tr,{children:[(0,jsx_runtime.jsx)(chunk_MGVPL3OH.Th,{children:"License"}),(0,jsx_runtime.jsx)(chunk_T2WCTPDH.Td,{children:modelData.cardData.license})]}),modelData?.safetensors?.parameters&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)(chunk_GIQFRSD6.Tr,{children:[(0,jsx_runtime.jsx)(chunk_MGVPL3OH.Th,{children:"Parameters"}),(0,jsx_runtime.jsx)(chunk_T2WCTPDH.Td,{children:formatModelParameters(modelData.safetensors.parameters)})]}),(0,jsx_runtime.jsxs)(chunk_GIQFRSD6.Tr,{children:[(0,jsx_runtime.jsx)(chunk_MGVPL3OH.Th,{children:(0,jsx_runtime.jsx)(chunk_KICXRNWJ.u,{label:"Minimum size of the model in memory according to an approximate calculation. Does not include memory required for inference.",children:(0,jsx_runtime.jsx)("span",{children:"Minimum Size"})})}),(0,jsx_runtime.jsx)(chunk_T2WCTPDH.Td,{children:formatModelMinSize(modelData.safetensors.parameters)})]})]}),tags&&(0,jsx_runtime.jsxs)(chunk_GIQFRSD6.Tr,{children:[(0,jsx_runtime.jsx)(chunk_MGVPL3OH.Th,{children:"Tags"}),(0,jsx_runtime.jsx)(chunk_T2WCTPDH.Td,{children:(0,jsx_runtime.jsx)(chunk_KRPLQIP4.k,{gap:2,flexWrap:"wrap",children:tags.map((tag=>(0,jsx_runtime.jsx)(chunk_RPO2WXNL.Vp,{size:"md",children:(0,jsx_runtime.jsx)(chunk_K7XRJ7NL.r,{href:`https://huggingface.co/models?other=${tag}`,isExternal:!0,children:tag})},tag)))})})]}),modelData?.config?.architectures&&(0,jsx_runtime.jsxs)(chunk_GIQFRSD6.Tr,{children:[(0,jsx_runtime.jsx)(chunk_MGVPL3OH.Th,{children:"Architectures"}),(0,jsx_runtime.jsx)(chunk_T2WCTPDH.Td,{children:(0,jsx_runtime.jsx)(chunk_KRPLQIP4.k,{gap:2,flexWrap:"wrap",children:modelData.config.architectures.map((architecture=>(0,jsx_runtime.jsx)(chunk_RPO2WXNL.Vp,{size:"md",children:architecture},architecture)))})})]}),modelData?.library_name&&(0,jsx_runtime.jsxs)(chunk_GIQFRSD6.Tr,{children:[(0,jsx_runtime.jsx)(chunk_MGVPL3OH.Th,{children:"Library"}),(0,jsx_runtime.jsx)(chunk_T2WCTPDH.Td,{children:modelData.library_name})]}),modelData?.cardData?.co2_eq_emissions&&(0,jsx_runtime.jsxs)(chunk_GIQFRSD6.Tr,{children:[(0,jsx_runtime.jsx)(chunk_MGVPL3OH.Th,{children:"CO2 Emissions"}),(0,jsx_runtime.jsxs)(chunk_T2WCTPDH.Td,{children:[formatNumber(modelData.cardData.co2_eq_emissions.emissions/1e3)," ","kg"]})]})]})})})}return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{})}function Model(_ref6){let{model,onModelChange,task}=_ref6;const{data:modelsData,error:modelsError,loading:modelsLoading}=useData({url:"https://huggingface.co/api/models",params:{pipeline_tag:task,sort:"likes",limit:1e3,direction:-1}}),{data:modelData,loading:modelLoading}=useData({url:`https://huggingface.co/api/models/${model}`,condition:""!==model,debounceTime:500}),models=modelsData??[],knownModel=models.find((model=>model.id===model));return modelsError?(0,jsx_runtime.jsxs)(chunk_3KCBMPN5.b,{status:"error",children:["Error retrieving models: ",modelsError.message]}):modelsLoading?(0,jsx_runtime.jsx)(chunk_BZDCPGYF.E,{colorScheme:"yellow",isIndeterminate:!0}):(0,jsx_runtime.jsxs)(chunk_PULVB27S.xu,{children:[(0,jsx_runtime.jsx)(ModelAutoComplete,{model,onModelChange,models}),(0,jsx_runtime.jsx)(ModelDetails,{model,knownModelData:knownModel,modelData,modelLoading})]})}Model.displayName="Model",Model.__docgenInfo={description:"",methods:[],displayName:"Model"};var chunk_46CXQZ4E=__webpack_require__("./node_modules/@chakra-ui/layout/dist/chunk-46CXQZ4E.mjs");function PresetSection(_ref){let{presets,onPresetChange}=_ref;return(0,jsx_runtime.jsx)(chunk_PULVB27S.xu,{children:(0,jsx_runtime.jsx)(chunk_46CXQZ4E.QI,{p:"0",children:presets.map(((p,i)=>(0,jsx_runtime.jsx)(chunk_46CXQZ4E.HC,{onClick:()=>onPresetChange(p),children:(0,jsx_runtime.jsxs)(chunk_K7XRJ7NL.r,{children:[p.name," ",(0,jsx_runtime.jsx)(chunk_XEKRR764.m,{mx:"2px"})]})},i)))})})}function BoxHeading(_ref){let{children,...props}=_ref;return(0,jsx_runtime.jsx)(chunk_7OLJDQMT.X,{as:"h2",size:"md",marginBottom:0,...props,children})}function AccordionHeading(_ref2){let{children}=_ref2;return(0,jsx_runtime.jsxs)(chunk_QCAXGLVH.K,{py:3,children:[(0,jsx_runtime.jsx)(BoxHeading,{display:"inline-block",flex:"1",textAlign:"left",children}),(0,jsx_runtime.jsx)(chunk_YI3ICT2T.X,{})]})}function PresetsChoice(_ref3){let{presets,onPresetChange}=_ref3;return(0,jsx_runtime.jsxs)(chunk_PULVB27S.xu,{children:[(0,jsx_runtime.jsx)(BoxHeading,{children:"Preset configurations"}),(0,jsx_runtime.jsx)(PresetSection,{presets,onPresetChange})]})}function CustomChoice(_ref4){let{onSelected}=_ref4;return(0,jsx_runtime.jsxs)(chunk_PULVB27S.xu,{children:[(0,jsx_runtime.jsx)(BoxHeading,{children:"Custom configuration"}),(0,jsx_runtime.jsx)(chunk_2OOHT3W5.x,{my:2,children:"Choose the model, service, and settings."}),(0,jsx_runtime.jsx)(chunk_UVUR7MCU.z,{size:"md",onClick:onSelected,rightIcon:(0,jsx_runtime.jsx)(chunk_XEKRR764.m,{}),children:"Start"})]})}PresetSection.displayName="PresetSection",PresetSection.__docgenInfo={description:"",methods:[],displayName:"PresetSection"},BoxHeading.displayName="BoxHeading",AccordionHeading.displayName="AccordionHeading",PresetsChoice.displayName="PresetsChoice",CustomChoice.displayName="CustomChoice";const getConfigGroups=function(config,onConfigChange){void 0===onConfigChange&&(onConfigChange=()=>{});const onChange=key=>value=>onConfigChange({...config,[key]:value});return{service:()=>{const services=[["Lyra","QUT's HPC cluster"],["JupyterHub","Jupyter notebooks on QUT's HPC cluster"],["rVDI","QUT's Research Virtual Desktop Infrastructure"],["Local","Your own workstation"]];return{element:(key,selected)=>(0,jsx_runtime.jsx)(Config.Cy,{title:"Service",description:"The service to use for running the model.",type:"picker",selected,inputProps:{choices:services,value:config?.service,onChange:onChange("service")}},key),show:()=>!0,selected:config=>(0,Config.p8)(services,config?.service)}},os:(0,Config.kA)(config,onChange),hardware:()=>{let hardware;return hardware=(0,Config.Ae)(config)?[["CPU","Un-accelerated. Quick to queue, slow to run."],["GPU","Accelerated GPU (recommended)"],["IPU","Accelerated IPU from Graphcore"]]:[["CPU","Un-accelerated. Quick to queue, slow to run."],["GPU","Accelerated GPU (recommended)"]],{element:(key,selected)=>(0,jsx_runtime.jsx)(Config.Cy,{title:"Hardware",description:"The hardware to use for running the model.",type:"picker",selected,inputProps:{choices:hardware,value:config?.hardware,onChange:onChange("hardware")}},key),show:config=>config?.service,selected:config=>(0,Config.p8)(hardware,config?.hardware)}},cpuVendor:(0,Config._3)(config,onChange),cpuModel:(0,Config.Rs)(config,onChange),cpuCores:(0,Config.UJ)(config,onChange),ram:(0,Config.Hw)(config,onChange),jobProfile:(0,Config.H4)(config,onChange),gpuVendor:(0,Config.zh)(config,onChange),gpuModel:(0,Config.DD)(config,onChange),gpuModules:(0,Config.bD)(config,onChange),environment:(0,Config.zj)(config,onChange),tool:(0,Config.R)(config,onChange)}};function HuggingFacePipeline(_ref5){let{title,task,presets=[]}=_ref5;const[model,setModel]=(0,react.useState)(""),[port]=(0,react.useState)(Math.floor(7e3*Math.random())+3e3),[config,setConfig]=(0,react.useState)(Config.g5),[showPage,setShowPage]=(0,react.useState)(!1),[accordionIndices,setAccordionIndices]=(0,react.useState)([0,1,2]),isModelComplete=""!==model,isConfigComplete=(0,Config.Bz)(config,getConfigGroups);return(0,jsx_runtime.jsx)(Guide.fD,{colorScheme:"yellow",header:(0,jsx_runtime.jsx)(Guide.DN,{title,logo:hf_logo_namespaceObject,alt:"HuggingFace logo",link:`https://huggingface.co/tasks/${task}`}),body:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(chunk_2OOHT3W5.x,{mb:6,children:"Step-by-step instructions to interact through your web browser with a HuggingFace model, running on Lyra, JupyterHub, rVDI, or your own machine."}),(0,jsx_runtime.jsx)(ChoiceScreen.Z,{choices:[(0,jsx_runtime.jsx)(PresetsChoice,{presets,onPresetChange:preset=>{setModel(preset.model),setConfig(preset.config),setShowPage(!0),setAccordionIndices([2])}},0),(0,jsx_runtime.jsx)(CustomChoice,{onSelected:()=>{setModel(""),setConfig(Config.g5),setShowPage(!0),setAccordionIndices([0,1,2])}},1)],page:(0,jsx_runtime.jsxs)(chunk_CRBMUVJA.U,{allowMultiple:!0,defaultIndex:accordionIndices,allowToggle:!0,children:[(0,jsx_runtime.jsxs)(chunk_JQ2DNXQ3.Q,{children:[(0,jsx_runtime.jsx)(AccordionHeading,{children:"Model"}),(0,jsx_runtime.jsx)(chunk_5VAIMVHT.H,{children:(0,jsx_runtime.jsx)(Model,{model,onModelChange:setModel,task})})]}),isModelComplete&&(0,jsx_runtime.jsxs)(chunk_JQ2DNXQ3.Q,{children:[(0,jsx_runtime.jsx)(AccordionHeading,{children:"Configuration"}),(0,jsx_runtime.jsx)(chunk_5VAIMVHT.H,{children:(0,jsx_runtime.jsx)(Config.De,{config,onConfigChange:setConfig,getConfigGroups})})]}),isModelComplete&&isConfigComplete&&(0,jsx_runtime.jsxs)(chunk_JQ2DNXQ3.Q,{children:[(0,jsx_runtime.jsx)(AccordionHeading,{children:"Instructions"}),(0,jsx_runtime.jsx)(chunk_5VAIMVHT.H,{children:(0,jsx_runtime.jsx)(HuggingFaceInstructions.k,{task,model,config,port})})]})]}),showPage,onPageChange:show=>setShowPage(show)})]})})}HuggingFacePipeline.displayName="HuggingFacePipeline",HuggingFacePipeline.__docgenInfo={description:"",methods:[],displayName:"HuggingFacePipeline",props:{presets:{defaultValue:{value:"[]",computed:!1},required:!1}}};const HuggingFacePipeline_stories={title:"Tools/HuggingFacePipeline",component:HuggingFacePipeline},TextGeneration={args:{title:"Text Generation",task:"text-generation"}},TextGenerationPresets={args:{title:"Text Generation",task:"text-generation",presets:[{name:"Llama-2-70b-chat on Lyra with 8 A100 GPUs",model:"meta-llama/Llama-2-70b-chat-hf",config:{service:"Lyra",hardware:"GPU",cpuVendor:"Any",cpuCores:8,ram:32,gpuVendor:"NVIDIA",gpuModel:"A100",gpuModules:8,tool:"CLI",environment:"Singularity"}},{name:"Llama-2-7b-chat locally",model:"meta-llama/Llama-2-7b-chat-hf",config:{service:"Local",os:"Linux",hardware:"GPU",tool:"CLI",environment:"Singularity"}},{name:"Bloom on Lyra with an A100 GPU",model:"bigscience/bloom",config:{service:"Lyra",hardware:"GPU",cpuVendor:"Any",cpuCores:4,ram:16,gpuVendor:"NVIDIA",gpuModel:"A100",gpuModules:1,tool:"CLI",environment:"Singularity"}}]}},ImageClassification={args:{title:"Image Classification",task:"image-classification"}},ObjectDetection={args:{title:"Object Detection",task:"object-detection"}},AutomaticSpeechRecognition={args:{title:"Automatic Speech Recognition",task:"automatic-speech-recognition"}},TextToSpeech={args:{title:"Text to Speech",task:"text-to-speech"}},TextToImage={args:{title:"Text to Image",task:"text-to-image"}};TextGeneration.parameters={...TextGeneration.parameters,docs:{...TextGeneration.parameters?.docs,source:{originalSource:'{\n  args: {\n    title: "Text Generation",\n    task: "text-generation"\n  }\n}',...TextGeneration.parameters?.docs?.source}}},TextGenerationPresets.parameters={...TextGenerationPresets.parameters,docs:{...TextGenerationPresets.parameters?.docs,source:{originalSource:'{\n  args: {\n    title: "Text Generation",\n    task: "text-generation",\n    presets: [{\n      name: "Llama-2-70b-chat on Lyra with 8 A100 GPUs",\n      model: "meta-llama/Llama-2-70b-chat-hf",\n      config: {\n        service: "Lyra",\n        hardware: "GPU",\n        cpuVendor: "Any",\n        cpuCores: 8,\n        ram: 32,\n        gpuVendor: "NVIDIA",\n        gpuModel: "A100",\n        gpuModules: 8,\n        tool: "CLI",\n        environment: "Singularity"\n      }\n    }, {\n      name: "Llama-2-7b-chat locally",\n      model: "meta-llama/Llama-2-7b-chat-hf",\n      config: {\n        service: "Local",\n        os: "Linux",\n        hardware: "GPU",\n        tool: "CLI",\n        environment: "Singularity"\n      }\n    }, {\n      name: "Bloom on Lyra with an A100 GPU",\n      model: "bigscience/bloom",\n      config: {\n        service: "Lyra",\n        hardware: "GPU",\n        cpuVendor: "Any",\n        cpuCores: 4,\n        ram: 16,\n        gpuVendor: "NVIDIA",\n        gpuModel: "A100",\n        gpuModules: 1,\n        tool: "CLI",\n        environment: "Singularity"\n      }\n    }]\n  }\n}',...TextGenerationPresets.parameters?.docs?.source}}},ImageClassification.parameters={...ImageClassification.parameters,docs:{...ImageClassification.parameters?.docs,source:{originalSource:'{\n  args: {\n    title: "Image Classification",\n    task: "image-classification"\n  }\n}',...ImageClassification.parameters?.docs?.source}}},ObjectDetection.parameters={...ObjectDetection.parameters,docs:{...ObjectDetection.parameters?.docs,source:{originalSource:'{\n  args: {\n    title: "Object Detection",\n    task: "object-detection"\n  }\n}',...ObjectDetection.parameters?.docs?.source}}},AutomaticSpeechRecognition.parameters={...AutomaticSpeechRecognition.parameters,docs:{...AutomaticSpeechRecognition.parameters?.docs,source:{originalSource:'{\n  args: {\n    title: "Automatic Speech Recognition",\n    task: "automatic-speech-recognition"\n  }\n}',...AutomaticSpeechRecognition.parameters?.docs?.source}}},TextToSpeech.parameters={...TextToSpeech.parameters,docs:{...TextToSpeech.parameters?.docs,source:{originalSource:'{\n  args: {\n    title: "Text to Speech",\n    task: "text-to-speech"\n  }\n}',...TextToSpeech.parameters?.docs?.source}}},TextToImage.parameters={...TextToImage.parameters,docs:{...TextToImage.parameters?.docs,source:{originalSource:'{\n  args: {\n    title: "Text to Image",\n    task: "text-to-image"\n  }\n}',...TextToImage.parameters?.docs?.source}}};const __namedExportsOrder=["TextGeneration","TextGenerationPresets","ImageClassification","ObjectDetection","AutomaticSpeechRecognition","TextToSpeech","TextToImage"]},"./src/components/input/InputPicker.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>InputPicker});var _chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@chakra-ui/layout/dist/chunk-KRPLQIP4.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@chakra-ui/tooltip/dist/chunk-KICXRNWJ.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@chakra-ui/button/dist/chunk-UVUR7MCU.mjs"),_tool_guide_Guide__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/components/tool/guide/Guide.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");function InputPicker(_ref){let{choices,value,onChange=()=>{}}=_ref;const{colorScheme}=(0,_tool_guide_Guide__WEBPACK_IMPORTED_MODULE_0__.Q5)();return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.k,{flexGrow:"1",children:choices.map((choice=>{const{label,description}=Array.isArray(choice)?{label:choice[0],description:choice[1]}:{label:choice,description:""},selected=label===value;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_3__.u,{label:description,flexGrow:"1",placement:"top",hasArrow:!0,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_4__.z,{flex:"1",variant:selected?"solid":"outline",size:"sm",borderRadius:"0",m:"0",p:"0",onClick:()=>onChange(label),colorScheme:selected?colorScheme:"gray",children:label})},label)}))})}InputPicker.displayName="InputPicker",InputPicker.__docgenInfo={description:"",methods:[],displayName:"InputPicker",props:{onChange:{defaultValue:{value:"() => {}",computed:!1},required:!1}}}},"./src/components/input/InputSlider.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>InputSlider});var _chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@chakra-ui/layout/dist/chunk-KRPLQIP4.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@chakra-ui/layout/dist/chunk-PULVB27S.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@chakra-ui/input/dist/chunk-FKYN3ZGE.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@chakra-ui/input/dist/chunk-6CVSDS6C.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@chakra-ui/input/dist/chunk-ADBZ7YHX.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@chakra-ui/layout/dist/chunk-2OOHT3W5.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@chakra-ui/slider/dist/chunk-6KSEUUNN.mjs"),_tool_guide_Guide__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/components/tool/guide/Guide.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");function InputSlider(_ref){let{value=1,label,onChange=()=>{},...props}=_ref;const{colorScheme}=(0,_tool_guide_Guide__WEBPACK_IMPORTED_MODULE_0__.Q5)();return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.k,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_3__.xu,{width:"120px",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_4__.B,{size:"sm",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_5__.I,{type:"number",value,onChange:e=>onChange(parseInt(e.target.value)),textAlign:"center"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_6__.xW,{width:"60px",p:0,justifyContent:"center",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_7__.x,{mb:"0",children:label})})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_8__.iR,{display:"block",flex:"1",ml:2,value,focusThumbOnChange:!1,colorScheme,onChange:v=>onChange(v),...props,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_8__.Uj,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_8__.Ms,{})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_8__.gs,{})]})]})}InputSlider.displayName="InputSlider",InputSlider.__docgenInfo={description:"",methods:[],displayName:"InputSlider",props:{value:{defaultValue:{value:"1",computed:!1},required:!1},onChange:{defaultValue:{value:"() => {}",computed:!1},required:!1}}}},"./src/components/layout/ChoiceScreen.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>ChoiceScreen});var _chakra_ui_icons__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@chakra-ui/icons/dist/chunk-G6T6CBSV.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@chakra-ui/layout/dist/chunk-PULVB27S.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@chakra-ui/button/dist/chunk-UVUR7MCU.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@chakra-ui/layout/dist/chunk-NEK3OOAM.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@chakra-ui/card/dist/chunk-YQO7BFFX.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@chakra-ui/card/dist/chunk-FHHZMTWR.mjs"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");function ChoiceScreen(_ref){let{choices,page,showPage=!1,onPageChange=(_show,_page)=>{},clickable=!1}=_ref;if(showPage)return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_1__.xu,{children:[page,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.z,{leftIcon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_chakra_ui_icons__WEBPACK_IMPORTED_MODULE_3__.R,{}),position:"absolute",right:"4",top:"4",size:"sm",onClick:()=>onPageChange(!1,void 0),children:"Back"})]});const columns=1===choices.length?1:3===choices.length?3:2;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_4__.M,{columns,spacing:2,children:choices.map(((child,idx)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_1__.xu,{onClick:clickable?()=>onPageChange(!0,idx):null,cursor:clickable?"pointer":"auto",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_5__.Z,{height:"100%",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_6__.e,{children:child})})},idx)))})}ChoiceScreen.displayName="ChoiceScreen",ChoiceScreen.__docgenInfo={description:"",methods:[],displayName:"ChoiceScreen",props:{showPage:{defaultValue:{value:"false",computed:!1},required:!1},onPageChange:{defaultValue:{value:"(_show, _page) => {}",computed:!1},required:!1},clickable:{defaultValue:{value:"false",computed:!1},required:!1}}}},"./src/components/tool/guide/Config.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ae:()=>isLyra,Bz:()=>configComplete,Cy:()=>ConfigGroup,DD:()=>getGpuModel,De:()=>Config,H4:()=>getJobProfile,Hw:()=>getRam,R:()=>getTool,Rs:()=>getCpuModel,UJ:()=>getCpuCores,_3:()=>getCpuVendor,bD:()=>getGpuModules,g5:()=>DEFAULT_CONFIG,kA:()=>getOs,p8:()=>isValidChoice,zh:()=>getGpuVendor,zj:()=>getEnvironment});var _chakra_ui_icons__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@chakra-ui/icons/dist/chunk-IWV6Y2ZN.mjs"),_chakra_ui_icons__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@chakra-ui/icons/dist/chunk-TN2QQVDX.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@chakra-ui/layout/dist/chunk-PULVB27S.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@chakra-ui/tooltip/dist/chunk-KICXRNWJ.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@chakra-ui/layout/dist/chunk-7OLJDQMT.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@chakra-ui/layout/dist/chunk-KRPLQIP4.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/@chakra-ui/alert/dist/chunk-3KCBMPN5.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/@chakra-ui/alert/dist/chunk-ALC6QPCI.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/@chakra-ui/close-button/dist/chunk-37N6GCLA.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/@chakra-ui/layout/dist/chunk-JARCRF6W.mjs"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_input_InputPicker__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/input/InputPicker.js"),_input_InputSlider__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/input/InputSlider.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js");const DEFAULT_CONFIG={nodes:1,cpuCores:4,ram:16,gpuModules:1,wallTime:{hour:1,minute:0},isArrayJob:"Standalone",jobInstances:{firstIndex:1,upperBound:10,step:1}};function ConfigGroup(_ref){let{title,description,type,selected,inputProps,showAlert=!1,alertDismissible=!0,alertType="info",alertMsg=null}=_ref;const[alertDismissed,setAlertDismissed]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_4__.xu,{children:[selected?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_chakra_ui_icons__WEBPACK_IMPORTED_MODULE_5__.r,{color:"green.500"}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_6__.u,{label:"Pick an option",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_chakra_ui_icons__WEBPACK_IMPORTED_MODULE_7__.a,{color:"orange.500"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_6__.u,{label:description,placement:"top",hasArrow:!0,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_8__.X,{size:"xs",mb:"0",display:"inline",ml:"2",children:title})})]}),"picker"===type&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_input_InputPicker__WEBPACK_IMPORTED_MODULE_1__.Z,{...inputProps}),"slider"===type&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_input_InputSlider__WEBPACK_IMPORTED_MODULE_2__.Z,{...inputProps})]}),showAlert&&!alertDismissed&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_4__.xu,{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_9__.k,{direction:"row",align:"center",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_4__.xu,{w:"100%",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_10__.b,{display:"flex",status:alertType,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_11__.z,{}),alertMsg&&"function"==typeof alertMsg?alertMsg():`${alertMsg}`,alertDismissible&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_12__.P,{size:"sm",style:{marginLeft:"auto"},position:"relative",right:"0",top:"0",onClick:()=>{setAlertDismissed(!0)}})]})})})]})]})}const isValidChoice=(choices,value)=>0!==choices.length&&(Array.isArray(choices[0])?choices.map((c=>c[0])).includes(value):choices.includes(value)),isLyra=config=>"Lyra"===config?.service,isWorkstation=config=>["rVDI","Local"].includes(config?.service),isGPU=config=>"GPU"===config?.hardware,getOs=(config,onChange)=>()=>{let operatingSystems;return operatingSystems="rVDI"===config?.service?["Linux","Windows"]:"Local"===config?.service?["Linux","macOS","Windows"]:["Linux"],{element:(key,selected)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(ConfigGroup,{title:"OS",description:"The operating system to use for running the model.",type:"picker",selected,inputProps:{choices:operatingSystems,value:config?.os,onChange:onChange("os")}},key),show:config=>isWorkstation(config),selected:config=>isValidChoice(operatingSystems,config?.os)}},getCpuVendor=(config,onChange)=>()=>{const cpuVendors=["Any","AMD","Intel"];return{element:(key,selected)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(ConfigGroup,{title:"CPU Vendor",type:"picker",selected,inputProps:{choices:cpuVendors,value:config?.cpuVendor,onChange:onChange("cpuVendor")}},key),show:config=>isLyra(config),selected:config=>isValidChoice(cpuVendors,config?.cpuVendor)}},getCpuModel=(config,onChange)=>()=>{let cpuModels=[];return"AMD"===config?.cpuVendor?cpuModels=["7702","7713"]:"Intel"===config?.cpuVendor&&(cpuModels=["6140","6248","8260","E7-8890v4"]),{element:(key,selected)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(ConfigGroup,{title:"CPU Model",type:"picker",selected,inputProps:{choices:cpuModels,value:config?.cpuModel,onChange:onChange("cpuModel")}},key),show:config=>isLyra(config)&&config?.cpuVendor&&"Any"!==config.cpuVendor,selected:config=>isValidChoice(cpuModels,config?.cpuModel)}},getCpuCores=(config,onChange)=>()=>{let cpuCores;return cpuCores="Any"===config?.cpuModel||"7702"===config?.cpuModel||"7713"===config?.cpuModel?128:"6140"===config?.cpuModel?36:"6248"===config?.cpuModel?40:"8260"===config?.cpuModel?48:"E7-8890v4"===config?.cpuModel?96:128,{element:(key,selected)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(ConfigGroup,{title:"CPU",type:"slider",selected,inputProps:{value:config?.cpuCores,label:"cores",min:1,max:cpuCores,step:1,onChange:onChange("cpuCores")}},key),show:config=>isLyra(config),selected:()=>!0}},getRam=(config,onChange)=>()=>{let ram;return ram="Any"===config?.cpuModel||"7702"===config?.cpuModel||"7713"===config?.cpuModel?1006:"6140"===config?.cpuModel||"6248"===config?.cpuModel||"8260"===config?.cpuModel?186:"E7-8890v4"===config?.cpuModel?5794:1006,{element:(key,selected)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(ConfigGroup,{title:"RAM",type:"slider",selected,inputProps:{value:config?.ram,label:"GB",min:8,max:ram,step:8,onChange:onChange("ram")}},key),show:config=>isLyra(config),selected:()=>!0}},getJobProfile=(config,onChange)=>()=>{let profiles=[];return"CPU"===config?.hardware?profiles=["1 core, 8 GB, 8 hours","4 cores, 32 GB, 8 hours","8 cores, 64 GB, 4 hours","16 cores, 128GB, 4 hours"]:"GPU"===config?.hardware&&(profiles=["4 cores, 32 GB, T4 GPU, 4 hours","8 cores, 64 GB, T4 GPU, 2 hours"]),{element:(key,selected)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(ConfigGroup,{title:"Job Profile",type:"picker",selected,inputProps:{choices:profiles,value:config?.jobProfile,onChange:onChange("jobProfile")}},key),show:config=>"JupyterHub"===config?.service&&config?.hardware,selected:config=>isValidChoice(profiles,config?.jobProfile)}},getGpuVendor=(config,onChange)=>()=>{const gpuVendors=["Any","NVIDIA","AMD"];return{element:(key,selected)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(ConfigGroup,{title:"GPU Vendor",type:"picker",selected,inputProps:{choices:gpuVendors,value:config?.gpuVendor,onChange:onChange("gpuVendor")}},key),show:config=>isLyra(config)&&isGPU(config),selected:config=>isValidChoice(gpuVendors,config?.gpuVendor)}},getGpuModel=(config,onChange)=>()=>{let gpuModels=[];return"NVIDIA"===config?.gpuVendor?gpuModels=[["T4","Tesla T4 16 GB"],["P100","TESLA P100-PCIE-16GB"],["V100","TESLA V100-PCIE-32GB"],["A100","NVIDIA A100-SXM4-40GB"]]:"AMD"===config?.gpuVendor&&(gpuModels=[["MI100","AMD MI100 32 GB"],["MI210","AMD MI210 16 GB"]]),{element:(key,selected)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(ConfigGroup,{title:"GPU Model",type:"picker",selected,inputProps:{choices:gpuModels,value:config?.gpuModel,onChange:onChange("gpuModel")}},key),show:config=>isLyra(config)&&"GPU"===config?.hardware&&config?.gpuVendor&&"Any"!==config.gpuVendor,selected:config=>isValidChoice(gpuModels,config?.gpuModel)}},getGpuModules=(config,onChange)=>()=>({element:(key,selected)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(ConfigGroup,{title:"GPU",type:"slider",selected,inputProps:{value:config?.gpuModules,label:"modules",min:1,max:8,step:1,onChange:onChange("gpuModules")}},key),show:config=>isLyra(config)&&isGPU(config),selected:()=>!0}),getEnvironment=(config,onChange)=>()=>{let environments=[];return environments="JupyterHub"===config?.service?[["Conda","Conda package manager"]]:isWorkstation(config)&&["macOS","Windows"].includes(config?.os)?[["Conda","Conda package manager"],["venv","Python virtual environments"]]:[["Singularity","Singularity / Singularity container"],["Conda","Conda package manager"],["venv","Python virtual environments"]],{element:(key,selected)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(ConfigGroup,{title:"Environment",description:"The Python package management system.",type:"picker",selected,inputProps:{choices:environments,value:config?.environment,onChange:onChange("environment")}},key),show:config=>config?.service,selected:config=>isValidChoice(environments,config?.environment)}},getTool=(config,onChange)=>()=>{let tools=[];return tools="Lyra"===config?.service?[["CLI","Use Gradio's Command-Line-Interface"],["Script","Run a generated Python script"]]:[["CLI","Use Gradio's Command-Line-Interface"],["Script","Run a generated Python script"],["Notebook","Run a generated Jupyter notebook"]],{element:(key,selected)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(ConfigGroup,{title:"Tool",description:"The interface to use for running the model.",type:"picker",selected,inputProps:{choices:tools,value:config?.tool,onChange:onChange("tool")}},key),show:config=>config?.service,selected:config=>isValidChoice(tools,config?.tool)}};function Config(_ref2){let{config,onConfigChange,getConfigGroups}=_ref2;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_13__.r,{templateColumns:"auto 1fr",gridColumnGap:2,alignItems:"center",children:Object.entries(getConfigGroups(config,onConfigChange)).map((_ref3=>{let[key,configGroup]=_ref3;return[key,configGroup()]})).filter((_ref4=>{let[_,configGroup]=_ref4;return configGroup.show(config)})).map((_ref5=>{let[key,configGroup]=_ref5;return configGroup.element(key,configGroup.selected(config))}))})}Config.displayName="Config";const configComplete=(config,getConfigGroups)=>Object.values(getConfigGroups(config)).map((g=>g())).filter((g=>g.show(config))).every((g=>g.selected(config)));ConfigGroup.__docgenInfo={description:"",methods:[],displayName:"ConfigGroup",props:{showAlert:{defaultValue:{value:"false",computed:!1},required:!1},alertDismissible:{defaultValue:{value:"true",computed:!1},required:!1},alertType:{defaultValue:{value:'"info"',computed:!1},required:!1},alertMsg:{defaultValue:{value:"null",computed:!1},required:!1}}},Config.__docgenInfo={description:"",methods:[],displayName:"Config"}},"./src/components/tool/guide/Guide.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{DN:()=>GuideHeader,Q5:()=>useGuideContext,fD:()=>Guide});var _chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@chakra-ui/layout/dist/chunk-K7XRJ7NL.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@chakra-ui/image/dist/chunk-QINAG4RG.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@chakra-ui/layout/dist/chunk-7OLJDQMT.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@chakra-ui/card/dist/chunk-YQO7BFFX.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@chakra-ui/card/dist/chunk-2EW3JUUD.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@chakra-ui/card/dist/chunk-FHHZMTWR.mjs"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");function GuideHeader(_ref){let{title,subtitle,logo,alt,link}=_ref;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.r,{href:link,isExternal:!0,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_3__.E,{float:"left",verticalAlign:"middle",src:logo,alt,display:"inline",height:"30px"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_4__.X,{as:"h1",size:"lg",display:"inline",position:"relative",marginLeft:"2",children:title}),subtitle&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_4__.X,{as:"h3",size:"xs",mt:4,children:subtitle})]})}GuideHeader.displayName="GuideHeader";const GuideContext=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({colorScheme:"teal",pickerTextColor:"white",pickerTextShadow:"1px 1px 1px black"}),useGuideContext=()=>(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(GuideContext),GuideProvider=_ref2=>{let{children,...props}=_ref2;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(GuideContext.Provider,{value:{...props},children})};function Guide(_ref3){let{colorScheme,header,body}=_ref3;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(GuideProvider,{colorScheme,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_5__.Z,{children:[header&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_6__.O,{children:header}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_7__.e,{children:body})]})})}GuideProvider.displayName="GuideProvider",Guide.displayName="Guide",GuideHeader.__docgenInfo={description:"",methods:[],displayName:"GuideHeader"},Guide.__docgenInfo={description:"",methods:[],displayName:"Guide"}},"./src/components/tool/guide/HuggingFacePipeline/HuggingFaceInstructions.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{k:()=>HuggingFaceInstructions});var chunk_PULVB27S=__webpack_require__("./node_modules/@chakra-ui/layout/dist/chunk-PULVB27S.mjs"),chunk_W7WUSNWJ=__webpack_require__("./node_modules/@chakra-ui/layout/dist/chunk-W7WUSNWJ.mjs"),chunk_FAWTVNS3=__webpack_require__("./node_modules/@chakra-ui/layout/dist/chunk-FAWTVNS3.mjs"),chunk_UQDW7KKV=__webpack_require__("./node_modules/@chakra-ui/color-mode/dist/chunk-UQDW7KKV.mjs"),chunk_7OLJDQMT=__webpack_require__("./node_modules/@chakra-ui/layout/dist/chunk-7OLJDQMT.mjs"),react=__webpack_require__("./node_modules/react/index.js"),useLocalStorageState=__webpack_require__("./src/components/hooks/useLocalStorageState.js"),chunk_LZZHVJFG=__webpack_require__("./node_modules/@chakra-ui/layout/dist/chunk-LZZHVJFG.mjs"),chunk_K7XRJ7NL=__webpack_require__("./node_modules/@chakra-ui/layout/dist/chunk-K7XRJ7NL.mjs"),CopyBox=__webpack_require__("./src/components/output/CopyBox.js"),InstructionHeading=__webpack_require__("./src/components/tool/guide/Instructions/components/InstructionHeading.js"),InstructionText=__webpack_require__("./src/components/tool/guide/Instructions/components/InstructionText.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function AccessInstructions(_ref){let{service,port,node,username}=_ref;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["Lyra"===service&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(InstructionHeading.Z,{children:"Forward the port"}),(0,jsx_runtime.jsx)(InstructionText.Z,{children:"In a new terminal window, run the following command to forward traffic from the server to your local machine:"}),""===username&&(0,jsx_runtime.jsx)(InstructionText.Z,{children:(0,jsx_runtime.jsxs)("i",{children:["Replace ",(0,jsx_runtime.jsx)(chunk_LZZHVJFG.E,{children:"qutusername"})," with your QUT username."]})}),""===node&&(0,jsx_runtime.jsx)(InstructionText.Z,{children:(0,jsx_runtime.jsxs)("i",{children:["Replace ",(0,jsx_runtime.jsx)(chunk_LZZHVJFG.E,{children:"node"})," with the name of the node the job is running on."]})}),(0,jsx_runtime.jsxs)(CopyBox.Z,{children:["ssh -L ",port,":",node||"node",":",port," ",username||"qutusername","@lyra.qut.edu.au"]})]}),(0,jsx_runtime.jsx)(InstructionHeading.Z,{children:"Access the tool"}),(0,jsx_runtime.jsxs)(InstructionText.Z,{children:["In your web browser, navigate to the following address:"," ",(0,jsx_runtime.jsxs)(chunk_K7XRJ7NL.r,{href:`http://localhost:${port}`,isExternal:!0,color:"blue.500",children:["http://localhost:",port]})]}),(0,jsx_runtime.jsxs)(CopyBox.Z,{children:["http://localhost:",port]})]})}AccessInstructions.__docgenInfo={description:"",methods:[],displayName:"AccessInstructions"};var ConnectInstructions=__webpack_require__("./src/components/tool/guide/Instructions/ConnectInstructions.js"),InstallInstructions=__webpack_require__("./src/components/tool/guide/Instructions/InstallInstructions.js"),InstructionInput=__webpack_require__("./src/components/tool/guide/Instructions/InstructionInput.js");function RunInstructions(_ref){let{service,tool,task,model,port}=_ref;const isWorkstation=["rVDI","Local"].includes(service);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(InstructionHeading.Z,{children:"Run the gradio server"}),"CLI"===tool&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(InstructionText.Z,{children:"Start the gradio server:"}),(0,jsx_runtime.jsxs)(CopyBox.Z,{children:["gradio pipeline ",task," --model=",model," ",'--server-name="0.0.0.0" --server-port=',port," ",'--device-map="auto"']})]}),"Script"===tool&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)(InstructionText.Z,{children:["Save the following to a file named ",(0,jsx_runtime.jsx)(chunk_LZZHVJFG.E,{children:"hf_pipeline.py"})]}),(0,jsx_runtime.jsx)(CopyBox.Z,{children:`import gradio\nimport transformers\nimport sys\n\nTASK = "${task}"\nMODEL = "${model}"\nPORT = int(sys.argv[1])\n\nprint(f"Starting: {TASK=} {MODEL=} {PORT=}", file=sys.stderr)\nprint("Please wait while the model loads into memory...", file=sys.stderr)\n\npipeline = transformers.pipeline(TASK, model=MODEL, device_map="auto")\ninterface = gradio.Interface.from_pipeline(pipeline)\ninterface.launch(server_name="0.0.0.0", server_port=PORT)\n`}),(0,jsx_runtime.jsx)(InstructionText.Z,{children:"Run the script:"}),(0,jsx_runtime.jsxs)(CopyBox.Z,{children:["python hf_pipeline.py ",port]})]}),"Notebook"===tool&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[isWorkstation&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(InstructionText.Z,{children:"Run the following command to start the server:"}),(0,jsx_runtime.jsx)(CopyBox.Z,{children:"python -m jupyterlab"}),(0,jsx_runtime.jsx)(InstructionText.Z,{children:"Open the link to the jupyter server in your browser, and create a new notebook."})]}),(0,jsx_runtime.jsx)(InstructionText.Z,{children:"Execute the following code in the notebook:"}),(0,jsx_runtime.jsx)(CopyBox.Z,{children:`import gradio\nimport transformers\n\nTASK = "${task}"\nMODEL = "${model}"\nPORT = ${port}\n\npipeline = transformers.pipeline(TASK, model=MODEL, device_map="auto")\ninterface = gradio.Interface.from_pipeline(pipeline)\ninterface.launch(server_name="0.0.0.0", server_port=PORT)\n`})]})]})}RunInstructions.__docgenInfo={description:"",methods:[],displayName:"RunInstructions"};var StartInstructions=__webpack_require__("./src/components/tool/guide/Instructions/StartInstructions.js"),TeardownInstructions=__webpack_require__("./src/components/tool/guide/Instructions/TeardownInstructions.js");const TEXT_PATTERN=/^[a-z0-9]*$/;function HuggingFaceInstructions(_ref){let{task,model,config,port}=_ref;const[username,setUsername]=(0,useLocalStorageState.Z)("qutUsername","qutusername"),[node,setNode]=(0,react.useState)("");return(0,jsx_runtime.jsxs)(chunk_PULVB27S.xu,{children:["Lyra"===config.service&&(0,jsx_runtime.jsx)(InstructionInput.Z,{label:"QUT Username",placeholder:"username",value:username,onChange:setUsername,pattern:TEXT_PATTERN,helperText:"Optionally enter your QUT username so that it can be pre-populated in the commands below.",errorText:"Username must only contain lowercase letters and numbers"}),(0,jsx_runtime.jsx)(ConnectInstructions.s,{service:config.service,username}),"Lyra"===config.service&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(StartInstructions.Wh,{jobType:"Interactive",hardware:config.hardware,cpuVendor:config.cpuVendor,cpuModel:config.cpuModel,cpuCores:config.cpuCores,ram:config.ram,gpuVendor:config.gpuVendor,gpuModel:config.gpuModel,gpuModules:config.gpuModules,wallTime:config.wallTime,isArrayJob:config.isArrayJob,jobInstances:config.jobInstances}),(0,jsx_runtime.jsx)(InstructionInput.Z,{label:"Node name",placeholder:"node",value:node,onChange:setNode,pattern:TEXT_PATTERN,helperText:"Optionally enter the name of the node so that it can be pre-populated in the commands below.",errorText:"Node name must only contain lowercase letters and numbers"})]}),"JupyterHub"===config.service&&(0,jsx_runtime.jsx)(StartInstructions.CJ,{jobProfile:config.jobProfile}),"rVDI"===config.service&&(0,jsx_runtime.jsx)(StartInstructions.HW,{hardware:config.hardware,os:config.os}),"Local"===config.service&&(0,jsx_runtime.jsx)(StartInstructions.Bc,{hardware:config.hardware,os:config.os}),(0,jsx_runtime.jsx)(InstallInstructions._,{hardware:config.hardware,gpuVendor:config.gpuVendor,service:config.service,tool:config.tool,environment:config.environment}),(0,jsx_runtime.jsx)(RunInstructions,{service:config.service,tool:config.tool,task,model,port}),(0,jsx_runtime.jsx)(AccessInstructions,{service:config.service,port,node,username}),(0,jsx_runtime.jsxs)(chunk_PULVB27S.xu,{position:"relative",padding:"10",children:[(0,jsx_runtime.jsx)(chunk_W7WUSNWJ.i,{}),(0,jsx_runtime.jsx)(chunk_FAWTVNS3.u,{bg:(0,chunk_UQDW7KKV.ff)("white","gray.700"),px:"4",children:(0,jsx_runtime.jsx)(chunk_7OLJDQMT.X,{as:"h2",size:"md",my:4,children:"Teardown steps"})})]}),(0,jsx_runtime.jsx)(TeardownInstructions.v,{service:config.service,environment:config.environment,usingTool:!0})]})}HuggingFaceInstructions.displayName="HuggingFaceInstructions",HuggingFaceInstructions.__docgenInfo={description:"",methods:[],displayName:"HuggingFaceInstructions"}},"./src/components/tool/guide/Instructions/InstallInstructions.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{_:()=>InstallInstructions});var chunk_K7XRJ7NL=__webpack_require__("./node_modules/@chakra-ui/layout/dist/chunk-K7XRJ7NL.mjs"),chunk_GTRZJDIL=__webpack_require__("./node_modules/@chakra-ui/tabs/dist/chunk-GTRZJDIL.mjs"),chunk_BXDFYXZJ=__webpack_require__("./node_modules/@chakra-ui/tabs/dist/chunk-BXDFYXZJ.mjs"),chunk_IAXSQ4X2=__webpack_require__("./node_modules/@chakra-ui/tabs/dist/chunk-IAXSQ4X2.mjs"),chunk_4YMKQ5D4=__webpack_require__("./node_modules/@chakra-ui/tabs/dist/chunk-4YMKQ5D4.mjs"),chunk_KGTDXOFZ=__webpack_require__("./node_modules/@chakra-ui/tabs/dist/chunk-KGTDXOFZ.mjs"),chunk_3KCBMPN5=__webpack_require__("./node_modules/@chakra-ui/alert/dist/chunk-3KCBMPN5.mjs"),chunk_ALC6QPCI=__webpack_require__("./node_modules/@chakra-ui/alert/dist/chunk-ALC6QPCI.mjs"),CopyBox=__webpack_require__("./src/components/output/CopyBox.js"),InstructionHeading=__webpack_require__("./src/components/tool/guide/Instructions/components/InstructionHeading.js"),InstructionText=__webpack_require__("./src/components/tool/guide/Instructions/components/InstructionText.js");function singularityContainerName(hardware,gpuVendor){let containerName="hf_pipeline.sif";return"GPU"===hardware?"NVIDIA"===gpuVendor?containerName="hf_pipeline_nvidia.sif":"AMD"===gpuVendor&&(containerName="hf_pipeline_amd.sif"):"CPU"===hardware&&(containerName="hf_pipeline_cpu.sif"),containerName}var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function SingularityBuildInstructions(_ref){let{hardware,gpuVendor}=_ref;const containerName=singularityContainerName(hardware,gpuVendor);let containerTag="cpu";return"GPU"===hardware&&("NVIDIA"===gpuVendor?containerTag="nvidia":"AMD"===gpuVendor&&(containerTag="amd")),(0,jsx_runtime.jsxs)(CopyBox.Z,{children:["singularity build ",containerName," ","docker://ghcr.io/eresearchqut/ai-toolbox/hf_pipeline:",containerTag]})}function SingularityRunInstructions(_ref2){let{hardware,gpuVendor,service}=_ref2;const args=[];"GPU"===hardware&&args.push("--nv"),"Lyra"===service&&args.push("--bind /:/lyra","--bind /work:/work","--contain","--cleanenv");const argsString=args.length>0?args.join(" ")+" ":"",containerLocation="Lyra"===service?"/work/ai-toolbox/containers/":"";let containerName=singularityContainerName(hardware,gpuVendor);return(0,jsx_runtime.jsxs)(CopyBox.Z,{children:["singularity run ",argsString,containerLocation,containerName," bash"]})}function InstallInstructions(_ref3){let{hardware,gpuVendor,service,environment,tool}=_ref3;const isWorkstation=["rVDI","Local"].includes(service),isWorkstationNotebook=isWorkstation&&"Notebook"===tool;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["Singularity"===environment&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[isWorkstation&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(InstructionHeading.Z,{children:"Install Singularity (if it has not been installed)"}),(0,jsx_runtime.jsxs)(InstructionText.Z,{children:["Follow the instructions"," ",(0,jsx_runtime.jsx)(chunk_K7XRJ7NL.r,{href:"https://sylabs.io/docs/",isExternal:!0,color:"blue.500",children:"here"})," ","to install singularity."]}),(0,jsx_runtime.jsx)(InstructionHeading.Z,{children:"Set up the container"}),(0,jsx_runtime.jsx)(InstructionText.Z,{children:"Build the container:"}),(0,jsx_runtime.jsx)(SingularityBuildInstructions,{hardware,gpuVendor})]}),"Lyra"===service&&(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsx)(InstructionHeading.Z,{children:"Set up the container"})}),(0,jsx_runtime.jsx)(InstructionText.Z,{children:"Run the container:"}),(0,jsx_runtime.jsx)(SingularityRunInstructions,{hardware,gpuVendor,service})]}),"Conda"===environment&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["JupyterHub"!==service&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(InstructionHeading.Z,{children:"Install Conda (if it has not been installed)"}),(0,jsx_runtime.jsxs)(chunk_GTRZJDIL.m,{children:[(0,jsx_runtime.jsxs)(chunk_BXDFYXZJ.t,{children:[(0,jsx_runtime.jsx)(chunk_IAXSQ4X2.O,{children:"mamba"}),(0,jsx_runtime.jsx)(chunk_IAXSQ4X2.O,{children:"conda"})]}),(0,jsx_runtime.jsxs)(chunk_4YMKQ5D4.n,{children:[(0,jsx_runtime.jsxs)(chunk_KGTDXOFZ.x,{children:[(0,jsx_runtime.jsx)(InstructionText.Z,{children:"Download the latest version of micromamba"}),(0,jsx_runtime.jsx)(CopyBox.Z,{children:"wget https://raw.githubusercontent.com/mamba-org/micromamba-releases/main/install.sh"}),(0,jsx_runtime.jsx)(InstructionText.Z,{children:"Run the installer and follow the prompts to install micromamba:"}),(0,jsx_runtime.jsx)(CopyBox.Z,{children:"bash install.sh -p ~/micromamba"}),(0,jsx_runtime.jsx)(InstructionText.Z,{children:"Create an alias for micromamba"}),(0,jsx_runtime.jsx)(CopyBox.Z,{children:'echo "alias conda=micromamba" >> ~/.bashrc'}),(0,jsx_runtime.jsx)(InstructionText.Z,{children:"Refresh the shell:"}),(0,jsx_runtime.jsx)(CopyBox.Z,{children:"source ~/.bashrc"})]}),(0,jsx_runtime.jsxs)(chunk_KGTDXOFZ.x,{children:[(0,jsx_runtime.jsxs)(chunk_3KCBMPN5.b,{status:"warning",children:[(0,jsx_runtime.jsx)(chunk_ALC6QPCI.z,{}),"Packages take a long time to install with conda. We recommend using mamba instead."]}),(0,jsx_runtime.jsx)(InstructionText.Z,{children:"Download the latest version of miniconda:"}),(0,jsx_runtime.jsx)(CopyBox.Z,{children:"wget https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh"}),(0,jsx_runtime.jsx)(InstructionText.Z,{children:"Run the installer and follow the prompts to install conda:"}),(0,jsx_runtime.jsx)(CopyBox.Z,{children:"bash Miniconda3-latest-Linux-x86_64.sh"}),(0,jsx_runtime.jsx)(InstructionText.Z,{children:"Refresh the shell:"}),(0,jsx_runtime.jsx)(CopyBox.Z,{children:"source ~/.bashrc"})]})]})]})]}),(0,jsx_runtime.jsx)(InstructionHeading.Z,{children:"Set up the conda environment"}),(0,jsx_runtime.jsx)(InstructionText.Z,{children:"Create the conda environment (if it doesn't exist):"}),(0,jsx_runtime.jsx)(CopyBox.Z,{children:"conda create --name hf"}),(0,jsx_runtime.jsx)(InstructionText.Z,{children:"Activate the conda environment:"}),(0,jsx_runtime.jsx)(CopyBox.Z,{children:"conda activate hf"}),(0,jsx_runtime.jsx)(InstructionText.Z,{children:"Install the transformers package:"}),(0,jsx_runtime.jsx)(CopyBox.Z,{children:"conda install -c huggingface -c conda-forge transformers"}),(0,jsx_runtime.jsx)(InstructionText.Z,{children:"Install pytorch:"}),(0,jsx_runtime.jsx)(CopyBox.Z,{children:"conda install -c pytorch -c nvidia -c conda-forge pytorch torchvision torchaudio pytorch-cuda=12.1"}),(0,jsx_runtime.jsx)(InstructionText.Z,{children:"Install the gradio package:"}),(0,jsx_runtime.jsx)(CopyBox.Z,{children:"conda install -c conda-forge gradio"}),isWorkstationNotebook&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(InstructionText.Z,{children:"Install JupyterLab:"}),(0,jsx_runtime.jsx)(CopyBox.Z,{children:"conda install -c conda-forge jupyterlab"})]})]}),"venv"===environment&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[isWorkstation&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(InstructionHeading.Z,{children:"Install Python (if it has not been installed)"}),(0,jsx_runtime.jsxs)(InstructionText.Z,{children:["Follow the instructions"," ",(0,jsx_runtime.jsx)(chunk_K7XRJ7NL.r,{href:"https://www.python.org/downloads/",isExternal:!0,color:"blue.500",children:"here"})," ","to install python."]})]}),"Lyra"===service&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(InstructionHeading.Z,{children:"Python module"}),(0,jsx_runtime.jsx)(InstructionText.Z,{children:"Source the module script:"}),(0,jsx_runtime.jsx)(CopyBox.Z,{children:"source /etc/profile.d/modules.sh"}),(0,jsx_runtime.jsx)(InstructionText.Z,{children:"Load the python module:"}),(0,jsx_runtime.jsx)(CopyBox.Z,{children:"module load python/3.10.8-gcccore-12.2.0-bare"}),(0,jsx_runtime.jsx)(InstructionText.Z,{children:"Check the python version"}),(0,jsx_runtime.jsx)(CopyBox.Z,{children:"python --version"})]}),(0,jsx_runtime.jsx)(InstructionHeading.Z,{children:"Set up the virtual environment"}),(0,jsx_runtime.jsx)(InstructionText.Z,{children:"Create the virtual environment (if it doesn't exist):"}),(0,jsx_runtime.jsx)(CopyBox.Z,{children:"python -m venv hf-venv"}),(0,jsx_runtime.jsx)(InstructionText.Z,{children:"Activate the virtual environment:"}),(0,jsx_runtime.jsx)(CopyBox.Z,{children:"source hf-venv/bin/activate"}),(0,jsx_runtime.jsx)(InstructionText.Z,{children:"Install the base dependencies:"}),(0,jsx_runtime.jsx)(CopyBox.Z,{children:"pip install gradio 'transformers[torch]'"}),isWorkstationNotebook&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(InstructionText.Z,{children:"Install JupyterLab:"}),(0,jsx_runtime.jsx)(CopyBox.Z,{children:"pip install jupyterlab"})]})]})]})}SingularityBuildInstructions.displayName="SingularityBuildInstructions",SingularityRunInstructions.displayName="SingularityRunInstructions",InstallInstructions.__docgenInfo={description:"",methods:[],displayName:"InstallInstructions"}}}]);